2、快速开始-单机hbase
手册描述了运行在本地文件系统的单机版hbase的例子，这并不是适当的hbase产品配置，但是可以让你可以用hbase进行试验，这一小节教你如何使用hbaseshell客户端在hbase上创建一张表，并在表中插入一列，进行put/scan操作，使表有效、无效，开启或停止hbase
在本地文件系统上使用hbase并不能保证持久性。HDFS本地文件系统将失去编辑，如果文件没有正常关闭。当你在练习新的软件、开启或关闭服务时，这很有可能发生，你需要在hdfs上启动hbase以确保所有写入都被保存。在本地上运行时让你熟悉基本系统运行的捷径。

2.2 开始hbase
procedure: 下载、配置并开启hbase
1、从apache download mirrors下载镜像
2、解压
$ tar xzvf hbase-2.0.0-SNAPSHOT-bin.tar.gz
$ cd hbase-2.0.0-SNAPSHOT/
3、HBase 0.98.5之后，在开始hbase之前，你需要设置环境变量JAVA_HOME，hbase提供了一个central mechanism 编辑conf/hbase-env.sh，去掉JAVA_HOME这行之前的批注#，根据你的系统设定好，bin/java
4、conf/hbase-site.xml是hbase的主要配置文件，当前你只要指定HBASE和zk写数据的本地目录。默认情况下，会在/tmp下创建一个新的目录 Many servers are configured to delete the contents of /tmp upon reboot, so you should store the data elsewhere.
<configuration>
  <property>
    <name>hbase.rootdir</name>
    <value>file:///home/testuser/hbase</value>
  </property>
  <property>
    <name>hbase.zookeeper.property.dataDir</name>
    <value>/home/testuser/zookeeper</value>
  </property>
</configuration>
不需要创建hbase数据目录，hbase会去创建，如果你创建了，hbase会去进行一个迁移、复制，而你并不想
5、bin/start-hbase.sh 提供了启动hbase的方便的方法，执行它， jps来验证你有个hmaster的进程。在单机模式下hbase的所有服务都运行在一个jvm上 hmaster hregionserver zk

Procedure: Use HBase For the First Time
1、连接
使用hbase shell连接你正在运行的hbase
2、hbase help
注意：表名（table name）、rows columns 都在引号中
3、创建表
使用create命令来创建表，你必须指定表名和ColumnFamily名 create 'test', 'cf'
4、list命令
list ‘test’
5、向表中传入数据  put
hbase(main):003:0> put 'test', 'row1', 'cf:a', 'value1'
这里我们插入3个值，第一个插入在row1, column cf:a,值value1.hbase中的列是由一个列族前缀cf跟着一个冒号，然后是column qualifier后缀a
6、scan
7、获取单独一行数据get 'test', 'row1'
8、disable a table
9、删掉drop
10、退出
Procedure: Stop HBase
bin/stop-hbase.sh

2.3伪分布式本地安装
伪分布式是指HBase依然在一个主机上运行，但hbase服务（Hmaster/hreginserver/zk）run as a separate process
1、关闭hbase
2、配置
hbase-site.xml   
<property>
  <name>hbase.cluster.distributed</name>
  <value>true</value>
</property>
这项配置代表hbase在distributed mode上运行
下一步，更改hbase.rootdir从本地文件系统到你的hdfs上，使用hdfs://// URI符号 You do not need to create the directory in HDFS. HBase will do this for you. If you create the directory, HBase will attempt to do a migration, which is not what you want.
3、开启hbase
bin/start-hbase.sh  如果配置正确，jps显示 HMaster and HRegionServer processes running
4、检查hdfs中hbase目录
hadoop fs -ls /hbase
5、创建表并用数据填充（populate）
6、启动停止一个备份的hbase主节点。
 HMaster server controls the HBase cluster你可以启动9个备份hmaster节点，这样算上主的，总共有10个hmasters  To start a backup HMaster, use the local-master-backup.sh 对每个你想要的备份主节点，给他增加一个代表端口偏移的参数。每个HMaster使用3个端口（默认：16010,16020,16030），所以下面的命令启动3个备份节点使用端口16012/16022/16032, 16013/16023/16033, and 16015/16025/16035
 local-master-backup.sh 2 3 5
 要kill一个备份master而不关闭整个集群，首先要找到进程id(PID) ,在/tmp/hbase-USER-X-master.pid中，
 cat /tmp/hbase-testuser-1-master.pid |xargs kill -9
 Start and stop additional RegionServers
 HRegionServer管理数据,一般来讲一个HRegionSerever管理集群中的一个节点，运行多个HRS在同一个系统中，可以用来测试伪分布式
 local-regionservers.sh It works in a similar way to the local-master-backup.sh command, in that each parameter you provide represents the port offset for an instance.每个RS需要连个端口，默认端口是16020和16030，然而增加的RegionServer基本端口不是默认端口，因为默认端B
 
 
